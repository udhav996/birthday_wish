<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Birthday Wish</title>
<style>
  body {
    background-color: black;
    color: #e8efe8;
    font-family: monospace;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  #ascii-container {
  max-height: 100vh;
  max-width: 100vw;       /* Limit width to screen */
  overflow: hidden;
  text-align: left;
  position: relative;
}

#ascii-wrapper {
  display: inline-block;
  white-space: pre;
  transition: transform 0.3s ease; /* Smooth slide */
}

#ascii-text {
  margin: 0;
  line-height: 1.1;
}

  #cursor {
    display: inline-block;
    background-color: #eef3ee;
    width: 8px;
    height: 16px;
    vertical-align: bottom;
    animation: blink 0.6s steps(1) infinite;
  }

  @keyframes blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
  }

  /* White card container for image */
  #image-card {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 300px;
    height: 400px;          /* FIXED height */
    background: white;
    overflow: hidden;
    box-shadow: 0 0 15px rgba(0,0,0,0.4);
    border-radius: 10px;
    opacity: 0;
    transition: opacity 1s ease;
    pointer-events: none;

    display: block; /* No flex, let image be natural */
  }

  #final-image {
    display: block;
    height: 500px;   /* Force fixed height */
    width: auto;     /* Width auto to maintain aspect ratio */
    user-select: none;
  }

  #image-mask {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;     /* start fully covering */
    background: white;
    transition: height 3s ease;
    pointer-events: none;
    z-index: 2;
  }

  #sparkles {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none;
    overflow: visible;
    z-index: 0;
  }

  .sparkle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.9;
    animation-name: sparkleUp;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
    filter: drop-shadow(0 0 3px);
  }

  @keyframes sparkleUp {
    0% {
      transform: translateY(0) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateY(-200px) scale(0.3);
      opacity: 0;
    }
  }
</style>
</head>
<body>

<div id="sparkles"></div>

<div id="ascii-container">
  <div id="ascii-wrapper">
    <pre id="ascii-text"></pre><span id="cursor"></span>
  </div>

  <div id="image-card">
    <img id="final-image" src="design2.jpg" alt="Sir's Sketch" />
    <div id="image-mask"></div>
  </div>
</div>

<script>
const asciiCake = String.raw`
               ¶        ¶        ¶
              ¶¶S      ¶SS      ¶SS
             ¶¶¶¶     ¶SS¶     ¶SS¶
              ¶¶       ¶¶       ¶¶
             ¶¶¶¶     ¶¶¶¶     ¶¶¶¶
             ¶__¶     ¶__¶     ¶__¶
             ¶__¶     ¶__¶     ¶__¶
             ¶__¶     ¶__¶     ¶__¶
             ¶__¶     ¶__¶     ¶__¶
             ¶¶¶__¶¶¶¶¶¶¶__¶¶¶¶¶¶¶__¶
         ¶¶¶¶¶¶__¶11111¶__¶11111¶__¶¶¶¶
      ¶¶¶1111¶__¶11111¶__¶11111¶__¶11¶¶¶¶
     ¶¶111$11¶¶¶¶11111¶__¶11111¶¶¶¶11$11¶¶¶
    ¶¶111$$$$11111$111¶¶¶¶11$1111111$$$$11¶¶
    ¶¶¶¶111$11111$$$$111111$$$$1111111$11¶¶¶
   ¶__¶¶¶¶¶¶¶¶1111$111111111$1111111¶¶¶¶¶_¶
   ¶¶______¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶____¶¶¶
 ¶¶¶¶_____§§________________________§§__¶¶11¶¶
 ¶¶11¶¶__§§_§§___§§_____§§____§§___§§_§§_¶¶111¶
 ¶111¶¶¶___§§___§§_§§__§§_§§_§§_§§___§§_¶¶¶111¶
 ¶1111¶¶¶¶________§§_____§§____§§_____¶¶¶¶111¶¶
 ¶¶¶¶111¶¶¶¶¶¶¶¶¶¶¶________¶¶¶¶¶¶¶¶¶¶¶¶¶¶11¶¶¶¶
   ¶¶¶¶¶11111111¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶¶11111111¶¶¶
    ¶¶¶11111111111111111111111111111111111¶¶
     ¶¶¶¶111¶¶¶¶11111111¶¶11111111¶¶¶¶1111¶¶
        ¶¶¶¶¶¶¶¶¶111¶¶¶¶¶¶¶1111¶¶¶_¶¶¶¶¶¶
                ¶¶¶¶¶¶¶¶___¶¶¶¶¶¶¶¶
`;

const asciiText = String.raw` __    __                                                _______   __             __      __              __                                               
|  \  |  \                                              |       \ |  \           |  \    |  \            |  \                                              
| $$  | $$  ______    ______    ______   __    __       | $$$$$$$\ \$$  ______  _| $$_   | $$____    ____| $$  ______   __    __                           
| $$__| $$ |      \  /      \  /      \ |  \  |  \      | $$__/ $$|  \ /      \|   $$ \  | $$    \  /      $$ |      \ |  \  |  \                          
| $$    $$  \$$$$$$\|  $$$$$$\|  $$$$$$\| $$  | $$      | $$    $$| $$|  $$$$$$\\$$$$$$  | $$$$$$$\|  $$$$$$$  \$$$$$$\| $$  | $$                          
| $$$$$$$$ /      $$| $$  | $$| $$  | $$| $$  | $$      | $$$$$$$\| $$| $$   \$$ | $$ __ | $$  | $$| $$  | $$ /      $$| $$  | $$                          
| $$  | $$|  $$$$$$$| $$__/ $$| $$__/ $$| $$__/ $$      | $$__/ $$| $$| $$       | $$|  \| $$  | $$| $$__| $$|  $$$$$$$| $$__/ $$                          
| $$  | $$ \$$    $$| $$    $$| $$    $$ \$$    $$      | $$    $$| $$| $$        \$$  $$| $$  | $$ \$$    $$ \$$    $$ \$$    $$                          
 \$$   \$$  \$$$$$$$| $$$$$$$ | $$$$$$$  _\$$$$$$$       \$$$$$$$  \$$ \$$         \$$$$  \$$   \$$  \$$$$$$$  \$$$$$$$ _\$$$$$$$                          
                    | $$      | $$      |  \__| $$                                                                     |  \__| $$                          
                    | $$      | $$       \$$    $$                                                                      \$$    $$                          
                     \$$       \$$        \$$$$$$                                                                        \$$$$$$                          
 ________                                                                                                                                                  
|        \                                                                                                                                                 
 \$$$$$$$$______                                                                                                                                           
   | $$  /      \                                                                                                                                         
   | $$ |  $$$$$$\                                                                                                                                        
   | $$ | $$  | $$                                                                                                                                        
   | $$ | $$__/ $$                                                                                                                                        
   | $$  \$$    $$                                                                                                                                        
    \$$   \$$$$$$                                                                                                                                         
                                                                                                                                                          
                                                                                                                                                          
 _______                                       __  __        __       __                                                        __                  __  __
|       \                                     |  \|  \      |  \     /  \                                                      |  \                |  \|  \
| $$$$$$$\  ______    ______    ______        | $$| $$      | $$\   /  $$  ______   _______    ______       __         _______  \$$  ______        | $$| $$
| $$  | $$ /      \  |      \  /      \       | $$| $$      | $$$\ /  $$$ |      \ |       \  /      \     |  \       /       \|  \ /      \       | $$| $$
| $$  | $$|  $$$$$$\  \$$$$$$\|  $$$$$$\       \$$ \$$      | $$$$\  $$$$  \$$$$$$\| $$$$$$$\|  $$$$$$\     \$$      |  $$$$$$$| $$|  $$$$$$\       \$$ \$$
| $$  | $$| $$    $$ /      $$| $$   \$$                    | $$\$$ $$ $$ /      $$| $$  | $$| $$  | $$    |  \       \$$    \ | $$| $$   \$$             
| $$__/ $$| $$$$$$$$|  $$$$$$$| $$                          | $$ \$$$| $$|  $$$$$$$| $$  | $$| $$__/ $$    | $$       _\$$$$$$\| $$| $$                   
| $$    $$ \$$     \ \$$    $$| $$                          | $$  \$ | $$ \$$    $$| $$  | $$ \$$    $$    | $$      |       $$| $$| $$                   
 \$$$$$$$   \$$$$$$$  \$$$$$$$ \$$                           \$$      \$$  \$$$$$$$ \$$   \$$  \$$$$$$__   | $$       \$$$$$$$  \$$ \$$                   
                                                                                                     |  \__/ $$                                          
                                                                                                      \$$    $$                                          
                                                                                                       \$$$$$$                                          
`;

const asciiArray = (asciiCake + "\n\n" + asciiText).split("\n");
const asciiElement = document.getElementById("ascii-text");
const cursor = document.getElementById("cursor");
const finalImage = document.getElementById("final-image");
const imageCard = document.getElementById("image-card");
const imageMask = document.getElementById("image-mask");
const asciiWrapper = document.getElementById("ascii-wrapper"); // NEW
const asciiContainer = document.getElementById("ascii-container"); // NEW

let currentLine = 0;
imageMask.style.height = "100%"; // mask fully covers at start

function typeCharWithSlide(char) {
  asciiElement.textContent += char;

  // Slide left if overflowing container
  const overflow = asciiWrapper.scrollWidth - asciiContainer.clientWidth;
  if (overflow > 0) {
    asciiWrapper.style.transform = `translateX(-${overflow}px)`;
  }
}

function typeLine(line, callback) {
  let charIndex = 0;
  function typeChar() {
    if (charIndex < line.length) {
      typeCharWithSlide(line.charAt(charIndex));
      charIndex++;
      setTimeout(typeChar, 0); // faster typing
    } else {
      asciiElement.textContent += "\n";
      asciiWrapper.style.transform = "translateX(0)"; // reset after each line
      callback();
    }
  }
  typeChar();
}

function typeAllLines() {
  if (currentLine < asciiArray.length) {
    typeLine(asciiArray[currentLine], () => {
      currentLine++;
      if (asciiElement.textContent.split("\n").length > 25) {
        asciiElement.textContent = asciiElement.textContent
          .split("\n")
          .slice(1)
          .join("\n");
      }
      typeAllLines();
    });
  } else {
    cursor.style.display = "none";
    imageCard.style.opacity = 1;
    setTimeout(() => {
      imageMask.style.height = "0%"; // reveal image from top to bottom
    }, 500);
  }
}

typeAllLines();



// Sparkles animation
const sparklesContainer = document.getElementById("sparkles");
const sparkleCount = 60;
const sparkleColors = [
  "#FF6B6B",  // Red
  "#FFD93D",  // Yellow
  "#6BCB77",  // Green
  "#4D96FF",  // Blue
  "#9D4EDD",  // Purple
  "#FF61A6"   // Pink
];

function createSparkle() {
  const sparkle = document.createElement("div");
  sparkle.classList.add("sparkle");
  const size = Math.random() * 5 + 5;
  sparkle.style.width = size + "px";
  sparkle.style.height = size + "px";
  sparkle.style.background = sparkleColors[Math.floor(Math.random() * sparkleColors.length)];
  sparkle.style.left = Math.random() * window.innerWidth + "px";
  sparkle.style.top = Math.random() * window.innerHeight + "px";
  sparkle.style.animationDuration = (Math.random() * 4 + 4) + "s";
  sparklesContainer.appendChild(sparkle);
  sparkle.addEventListener("animationend", () => {
    sparkle.remove();
    createSparkle();
  });
}

for (let i = 0; i < sparkleCount; i++) {
  createSparkle();
}
</script>

</body>
</html>
